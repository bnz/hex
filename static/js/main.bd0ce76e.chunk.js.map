{"version":3,"sources":["jsx/Components/Button/Button.module.css","jsx/Components/Dialog/Dialog.module.css","jsx/Layout/Drawer/Drawer.module.css","jsx/Layout/Drawer/GamesSwitcher/GamesSwitcher.module.css","jsx/Layout/Drawer/ThemeSwitcher/ThemeSwitcher.module.css","jsx/Layout/MenuButton/MenuButton.module.css","jsx/Layout/LayoutWrapper/LayoutWrapper.module.css","jsx/Layout/Drawer/LanguageSwitcher/LanguageSwitcher.module.css","jsx/Layout/Drawer/Footer/Footer.module.css","types.tsx","Storage/LocalStorageMgmnt.ts","Storage/UIStore/UIStore.ts","Storage/UIStore/UIStoreProvider.tsx","jsx/Game/Hexagons/Orientation.ts","jsx/Game/Hexagons/Point.ts","jsx/Game/Hexagons/Hex.ts","jsx/Game/Hexagons/Layout.ts","jsx/Game/Tile/Tile.tsx","helpers/debounce.ts","Storage/Store/applyers/generateTiles.ts","Storage/Store/applyers/toHex.ts","Storage/Store/applyers/init.ts","Storage/Store/defaults/tiles.ts","Storage/Store/applyers/recalc.ts","Storage/Store/applyers/updateLayout.ts","Storage/Store/applyers/onWindowResize.ts","Storage/Store/Store.ts","Storage/Store/StoreProvider.tsx","jsx/Layout/MenuButton/MenuButton.tsx","jsx/Layout/LayoutWrapper/LayoutWrapper.tsx","i18n/i18n.tsx","i18n/rus.ts","i18n/eng.ts","jsx/Layout/Drawer/GamesSwitcher/GamesSwitcher.tsx","jsx/Layout/Drawer/LanguageSwitcher/LanguageSwitcher.tsx","jsx/Layout/Drawer/Footer/Footer.tsx","jsx/Layout/Drawer/ThemeSwitcher/ThemeSwitcher.tsx","jsx/Components/Modal/Modal.ts","jsx/Components/KeyboardActions/KeyboardActions.ts","jsx/Components/Dialog/Dialog.tsx","jsx/Layout/Drawer/RestartGame/RestartButton.tsx","jsx/Layout/Drawer/RestartGame/RestartGame.tsx","jsx/Layout/Drawer/Drawer.tsx","jsx/Rules/StartButton/StartButton.tsx","jsx/Game/Arena/ArenaWrapper.tsx","assets/hex.svg","jsx/Game/Tile/Tiles.tsx","jsx/Game/Arena/Arena.tsx","jsx/Game/Hex.tsx","index.tsx"],"names":["module","exports","UIPhase","LocalStorageMgmnt","storageName","key","fallback","data","localStorage","getItem","this","d","JSON","parse","undefined","callback","get","res","set","value","setItem","stringify","console","log","removeItem","UIStore","storeDispose","defaultDrawerState","defaultLanguage","html","document","getElementsByTagName","storage","_drawer","getOrApply","toggleDrawer","drawer","drawerReaction","flag","style","overflow","_language","setLanguage","language","window","location","matchMediaListener","e","theme","toggleTheme","_theme","matchMedia","changeTheme","runInAction","themeReaction","classList","remove","add","_phase","PRE_GAME","startGame","phase","GAME","restartGame","destroy","makeAutoObservable","reaction","addEventListener","removeEventListener","matches","Context","createContext","UIStoreProvider","children","store","useEffect","dispose","Provider","useUIStore","useContext","Error","Orientation","f0","f1","f2","f3","b0","b1","b2","b3","start_angle","Point","x","y","Hex","q","r","s","Math","round","b","k","direction","diagonals","abs","subtract","len","qi","ri","si","q_diff","r_diff","s_diff","t","N","distance","a_nudge","b_nudge","results","step","max","i","push","lerp","directions","Layout","orientation","size","origin","h","M","p","pt","corner","angle","PI","cos","sin","corners","center","hexToPixel","offset","hexCornerOffset","pointy","sqrt","flat","generateTiles","forEach","hex","toHex","id","init","tiles","_size","result","fromTo","a","j","recalc","widthSize","isPointy","smallSide","largeSide","heightSize","R","min","width","height","layout","updateLayout","onWindowResize","elSizes","Store","ratio","preSit","hoveredId","debounce","warn","_arenaElement","func","wait","timeout","args","context","later","apply","clearTimeout","setTimeout","_orientation","toJS","el","arenaElement","offsetWidth","offsetHeight","orientationType","HexContext","StoreProvider","useStore","MenuButton","observer","className","styles","closeMenu","openMenu","onClick","LayoutWrapper","root","lang","languagesMap","rus","yacht","indigo","systemTheme","currentGameWillBeLost","eng","i18n","GamesSwitcher","useState","visible","setVisible","open","useCallback","close","heading","cx","list","selected","LanguageSwitcher","disabled","Footer","footer","Date","getFullYear","ThemeSwitcher","fn","th","wrapper","type","getElementById","Modal","useRef","createElement","div","current","appendChild","removeChild","createPortal","KeyboardActions","actions","code","Dialog","Escape","backdrop","header","closeButton","content","RestartButton","buttonStyles","main","RestartGame","dialogVisible","setDialogVisible","restart","text","textAlign","Drawer","hidden","StartButton","ArenaWrapper","arenaRef","ref","useMemo","map","bgImage","hash","backgroundImage","svg","Tile","data-qr","qr","Tiles","Object","entries","entry","Arena","padding","render"],"mappings":"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","file":"static/js/main.bd0ce76e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3tE03\",\"withIcon\":\"Button_withIcon__3mxLj\",\"buttonContained\":\"Button_buttonContained__1_qjk\",\"main\":\"Button_main__xrucu Button_button__3tE03 Button_buttonContained__1_qjk\",\"text\":\"Button_text__1-Elw Button_button__3tE03\",\"restart\":\"Button_restart__18J1J Button_button__3tE03 Button_buttonContained__1_qjk Button_withIcon__3mxLj\",\"rotate\":\"Button_rotate__36yKG Button_button__3tE03 Button_buttonContained__1_qjk Button_withIcon__3mxLj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Dialog_root__NRShG\",\"backdrop\":\"Dialog_backdrop__1sYxI\",\"header\":\"Dialog_header__1azbN\",\"content\":\"Dialog_content__2meVV\",\"closeButton\":\"Dialog_closeButton__1r6o3 Button_button__3tE03\",\"footer\":\"Dialog_footer__YAeCI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Drawer_drawer__1HalH\",\"hidden\":\"Drawer_hidden__2OHcw\",\"backdrop\":\"Drawer_backdrop__gWGnm\",\"content\":\"Drawer_content__1bryE\",\"box\":\"Drawer_box__3GC_l\",\"actions\":\"Drawer_actions__BAzI9 Drawer_box__3GC_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"GamesSwitcher_root__2TNDL\",\"heading\":\"GamesSwitcher_heading__3SrOO\",\"list\":\"GamesSwitcher_list__3Qw2k\",\"visible\":\"GamesSwitcher_visible__YBiVK\",\"selected\":\"GamesSwitcher_selected__1NZF7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ThemeSwitcher_wrapper__3sSiZ Drawer_box__3GC_l\",\"radio\":\"ThemeSwitcher_radio__3y2yU\",\"selected\":\"ThemeSwitcher_selected__2r8Ri\",\"light\":\"ThemeSwitcher_light__9R655 ThemeSwitcher_radio__3y2yU\",\"dark\":\"ThemeSwitcher_dark__BaMnY ThemeSwitcher_radio__3y2yU\",\"system\":\"ThemeSwitcher_system__3Z_ku ThemeSwitcher_radio__3y2yU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MenuButton_root__2p-DT\",\"openMenu\":\"MenuButton_openMenu__2T0Q7 MenuButton_root__2p-DT\",\"closeMenu\":\"MenuButton_closeMenu__1zqK3 MenuButton_root__2p-DT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"LayoutWrapper_root__3zr9z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"LanguageSwitcher_root__3Mev9 Drawer_box__3GC_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1_tAb\"};","import { Hex } from \"./jsx/Game/Hexagons/Hex\"\n\nexport enum UIPhase {\n    PRE_GAME,\n    GAME,\n}\n\nexport type OrientationType = \"flat\" | \"pointy\"\n\nexport type Tiles = Record<string, Tile>\n\nexport interface Tile {\n    hex: Hex\n}\n\nexport type Keys =\n    | \"orientation\"\n    | \"tiles\"\n\nexport type Values =\n    | OrientationType\n","export interface iLocalStorageMgmnt<K, V> {\n    get(key: K, fallback?: V): any | null\n    set(key: K, value: V): void\n    getOrApply<T>(key: K, callback: () => T): T\n    destroy(): void\n}\n\nexport class LocalStorageMgmnt<K, V> implements iLocalStorageMgmnt<K, V> {\n\n    constructor(\n        private storageName: string,\n    ) {\n    }\n\n    get(key: K, fallback?: V) {\n        const data = localStorage.getItem(this.storageName)\n\n        if (data !== null) {\n            const d = JSON.parse(data)\n            return d[key] === undefined ? fallback || null : d[key]\n        }\n\n        return fallback || null\n    }\n\n    getOrApply<T>(key: K, callback: () => T): T {\n        if (this.get(key) !== null) {\n            return this.get(key)\n        }\n        const res = callback()\n        // @ts-ignore TODO\n        this.set(key, res)\n        return res\n    }\n\n    set(key: K, value: V) {\n        const data = localStorage.getItem(this.storageName)\n\n        if (data === null) {\n            localStorage.setItem(this.storageName, JSON.stringify({\n                // @ts-ignore FIXME\n                [key]: value,\n            }))\n        } else {\n            const d = JSON.parse(data)\n            d[key] = value\n            localStorage.setItem(this.storageName, JSON.stringify(d))\n        }\n    }\n\n    destroy() {\n        console.log(\"destroy\", this.storageName)\n        localStorage.removeItem(this.storageName)\n    }\n\n}\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\"\nimport { LocalStorageMgmnt } from \"../LocalStorageMgmnt\"\nimport { Language } from \"../../i18n/i18n\"\nimport { UIPhase } from \"../../types\"\n\nexport type Theme = \"light\" | \"dark\" | \"system\"\n\nexport type UIKeys = \"drawer\" | \"language\" | \"theme\" | \"phase\"\n\nexport type UIValues = boolean | Language | Theme | UIPhase\n\nexport class UIStore {\n\n    /**\n     * Defaults\n     */\n    private defaultDrawerState = false\n    private defaultLanguage: Language = \"rus\"\n    private html = document.getElementsByTagName(\"html\")[0]\n\n    constructor(\n        private storeDispose: () => void,\n    ) {\n        makeAutoObservable(this)\n\n        // Theme stuff\n        this.themeReaction(this.theme)\n        reaction(() => this.theme, this.themeReaction)\n        UIStore.matchMedia.addEventListener(\"change\", this.matchMediaListener, true)\n\n        // Drawer stuff\n        reaction(() => this.drawer, this.drawerReaction)\n    }\n\n    storage = new LocalStorageMgmnt<UIKeys, UIValues>(\"ui\")\n\n    // Drawer - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    private _drawer = this.storage.getOrApply(\"drawer\", () => this.defaultDrawerState)\n\n    get drawer() {\n        return this._drawer\n    }\n\n    private set drawer(flag: boolean) {\n        this._drawer = flag\n        this.storage.set(\"drawer\", this.drawer)\n    }\n\n    toggleDrawer = () => {\n        this.drawer = !this.drawer\n    }\n\n    drawerReaction = (flag: boolean) => {\n        if (flag) {\n            this.html.style.overflow = \"hidden\"\n        } else {\n            this.html.style.overflow = \"visible\"\n        }\n    }\n\n    // Language - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    private _language: Language = this.storage.getOrApply(\"language\", () => this.defaultLanguage)\n\n    get language() {\n        return this._language\n    }\n\n    set language(language: Language) {\n        this._language = language\n        this.storage.set(\"language\", this.language)\n    }\n\n    setLanguage = (language: Language): () => void => (): void => {\n        this.language = language\n        // eslint-disable-next-line no-self-assign\n        window.location = window.location\n    }\n\n    // Theme - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    private static get matchMedia() {\n        return window.matchMedia(\"(prefers-color-scheme: dark)\")\n    }\n\n    private static toggleTheme(e: any): Theme {\n        return e.matches ? \"dark\" : \"light\"\n    }\n\n    private matchMediaListener = (e: any) => {\n        this.theme = UIStore.toggleTheme(e)\n    }\n\n    private _theme: Theme = this.storage.getOrApply(\"theme\", () => UIStore.toggleTheme(UIStore.matchMedia))\n\n    get theme(): Theme {\n        return this._theme\n    }\n\n    set theme(theme: Theme) {\n        this.storage.set(\"theme\", theme)\n        this._theme = theme\n    }\n\n    changeTheme = (theme: Theme): () => void => () => {\n        runInAction(() => {\n            this.theme = theme\n        })\n    }\n\n    private themeReaction = (theme: Theme): void => {\n        // @ts-ignore\n        this.html.classList.remove(...this.html.classList)\n        if (theme !== \"system\") {\n            if (theme === \"dark\") {\n                this.html.classList.add(\"theme-dark\")\n            } else {\n                this.html.classList.add(\"theme-light\")\n            }\n        }\n    }\n\n    dispose(): void {\n        UIStore.matchMedia.removeEventListener(\"change\", this.matchMediaListener)\n    }\n\n    // Phase - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    private _phase = this.storage.getOrApply<UIPhase>(\"phase\", () => UIPhase.PRE_GAME)\n\n    get phase() {\n        return this._phase\n    }\n\n    set phase(phase: UIPhase) {\n        this._phase = phase\n        this.storage.set(\"phase\", this._phase)\n    }\n\n    startGame = () => {\n        this.phase = UIPhase.GAME\n    }\n\n    restartGame = () => {\n        this.phase = UIPhase.PRE_GAME\n        this.storage.destroy()\n        this.storeDispose()\n        this.drawer = false\n    }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, FC, useContext, useEffect } from \"react\"\nimport { UIStore } from \"./UIStore\"\n\nconst Context = createContext<UIStore | null>(null)\n\nexport const UIStoreProvider: FC<{ store: UIStore }> = ({ children, store }) => {\n    useEffect(() => store.dispose, [])\n\n    return (\n        <Context.Provider value={store}>\n            {children}\n        </Context.Provider>\n    )\n}\n\nexport const useUIStore = (): UIStore => {\n    const store = useContext(Context)\n    if (!store) {\n        throw new Error('hook must be used within a Provider')\n    }\n    return store\n}\n","export class Orientation {\n    constructor(\n        public f0: number,\n        public f1: number,\n        public f2: number,\n        public f3: number,\n        public b0: number,\n        public b1: number,\n        public b2: number,\n        public b3: number,\n        public start_angle: number,\n    ) {\n    }\n}\n","export class Point {\n\n    constructor(\n        public x: number,\n        public y: number,\n    ) {\n    }\n\n}\n","export class Hex {\n\n    constructor(\n        public q: number,\n        public r: number,\n        public s: number,\n    ) {\n        if (Math.round(q + r + s) !== 0) {\n            throw new Error('q + r + s must be 0')\n        }\n    }\n\n    public get id() {\n        return `${this.q},${this.r}`\n    }\n\n    public add(b: Hex): Hex {\n        return new Hex(\n            this.q + b.q,\n            this.r + b.r,\n            this.s + b.s,\n        )\n    }\n\n    public subtract(b: Hex): Hex {\n        return new Hex(\n            this.q - b.q,\n            this.r - b.r,\n            this.s - b.s,\n        )\n    }\n\n    public scale(k: number): Hex {\n        return new Hex(\n            this.q * k,\n            this.r * k,\n            this.s * k,\n        )\n    }\n\n    public rotateLeft(): Hex {\n        return new Hex(\n            -this.s,\n            -this.q,\n            -this.r,\n        )\n    }\n\n    public rotateRight(): Hex {\n        return new Hex(\n            -this.r,\n            -this.s,\n            -this.q,\n        )\n    }\n\n    public static directions: Hex[] = [\n        new Hex(1, 0, -1),\n        new Hex(1, -1, 0),\n        new Hex(0, -1, 1),\n        new Hex(-1, 0, 1),\n        new Hex(-1, 1, 0),\n        new Hex(0, 1, -1),\n    ]\n\n    public static direction(direction: number): Hex {\n        return Hex.directions[direction]\n    }\n\n    public neighbor(direction: number): Hex {\n        return this.add(Hex.direction(direction))\n    }\n\n    public static diagonals: Hex[] = [\n        new Hex(2, -1, -1),\n        new Hex(1, -2, 1),\n        new Hex(-1, -1, 2),\n        new Hex(-2, 1, 1),\n        new Hex(-1, 2, -1),\n        new Hex(1, 1, -2),\n    ]\n\n    public diagonalNeighbor(direction: number): Hex {\n        return this.add(Hex.diagonals[direction])\n    }\n\n    public len(): number {\n        return (Math.abs(this.q) + Math.abs(this.r) + Math.abs(this.s)) / 2\n    }\n\n    public distance(b: Hex): number {\n        return this.subtract(b).len()\n    }\n\n    public round(): Hex {\n        let qi = Math.round(this.q)\n        let ri = Math.round(this.r)\n        let si = Math.round(this.s)\n\n        const q_diff = Math.abs(qi - this.q)\n        const r_diff = Math.abs(ri - this.r)\n        const s_diff = Math.abs(si - this.s)\n\n        if (q_diff > r_diff && q_diff > s_diff) {\n            qi = -ri - si\n        } else if (r_diff > s_diff) {\n            ri = -qi - si\n        } else {\n            si = -qi - ri\n        }\n\n        return new Hex(qi, ri, si)\n    }\n\n    public lerp(b: Hex, t: number): Hex {\n        return new Hex(\n            this.q * (1.0 - t) + b.q * t,\n            this.r * (1.0 - t) + b.r * t,\n            this.s * (1.0 - t) + b.s * t,\n        )\n    }\n\n    public linedraw(b: Hex): Hex[] {\n        const N = this.distance(b)\n        const a_nudge: Hex = new Hex(this.q + 1e-06, this.r + 1e-06, this.s - 2e-06)\n        const b_nudge: Hex = new Hex(b.q + 1e-06, b.r + 1e-06, b.s - 2e-06)\n        const results: Hex[] = []\n        const step = 1.0 / Math.max(N, 1)\n\n        for (let i = 0; i <= N; i++) {\n            results.push(a_nudge.lerp(b_nudge, step * i).round())\n        }\n        return results\n    }\n\n}\n","import { Orientation } from './Orientation'\nimport { Point } from './Point'\nimport { Hex } from './Hex'\n\nexport class Layout {\n\n    constructor(\n        public orientation: Orientation,\n        public size: Point,\n        public origin: Point,\n    ) {\n        // console.log('Layout:::constructor')\n    }\n\n    public static pointy: Orientation = new Orientation(\n        Math.sqrt(3.0),\n        Math.sqrt(3.0) / 2.0,\n        0.0,\n        3.0 / 2.0,\n        Math.sqrt(3.0) / 3.0,\n        -1.0 / 3.0,\n        0.0,\n        2.0 / 3.0,\n        0.5,\n    )\n\n    public static flat: Orientation = new Orientation(\n        3.0 / 2.0,\n        0.0,\n        Math.sqrt(3.0) / 2.0,\n        Math.sqrt(3.0),\n        2.0 / 3.0,\n        0.0,\n        -1.0 / 3.0,\n        Math.sqrt(3.0) / 3.0,\n        0.0,\n    )\n\n    public hexToPixel(h: Hex): Point {\n        const M = this.orientation\n        const size = this.size\n        const origin = this.origin\n        const x = (M.f0 * h.q + M.f1 * h.r) * size.x\n        const y = (M.f2 * h.q + M.f3 * h.r) * size.y\n        return new Point(x + origin.x, y + origin.y)\n    }\n\n    public pixelToHex(p: Point): Hex {\n        const M = this.orientation\n        const size: Point = this.size\n        const origin: Point = this.origin\n        const pt: Point = new Point((p.x - origin.x) / size.x, (p.y - origin.y) / size.y)\n        const q: number = M.b0 * pt.x + M.b1 * pt.y\n        const r: number = M.b2 * pt.x + M.b3 * pt.y\n        return new Hex(q, r, -q - r)\n    }\n\n    public hexCornerOffset(corner: number): Point {\n        const M = this.orientation\n        const size = this.size\n        const angle = 2.0 * Math.PI * (M.start_angle - corner) / 6.0\n        return new Point(\n            size.x * Math.cos(angle),\n            size.y * Math.sin(angle),\n        )\n    }\n\n    public polygonCorners(h: Hex): Point[] {\n        const corners: Point[] = []\n        const center: Point = this.hexToPixel(h)\n        for (let i = 0; i < 6; i++) {\n            const offset: Point = this.hexCornerOffset(i)\n            corners.push(new Point(center.x + offset.x, center.y + offset.y))\n        }\n        return corners\n    }\n\n}\n","import svg from \"../../../assets/hex.svg\"\nimport { CSSProperties, FC } from \"react\"\nimport { observer } from \"mobx-react\"\nimport { Data } from \"./Tiles\"\n\nexport interface TileProps {\n    qr: string\n}\n\nconst map: Record<string, string> = {\n    \"-6,0\": \"le-r-t\",\n    \"6,0\": \"le-l-b\",\n    \"6,-12\": \"\",\n    \"-6,12\": \"\",\n    \"6,-11\": \"le-l-t\",\n    \"-6,11\": \"le-r-b\",\n    \"5,-11\": \"le-t\",\n    \"-5,11\": \"le-b\",\n}\n\nfor (let i = -5, j = -1; i <= 4; i++, j--) {\n    map[`${i},${j}`] = \"g-t-l\"\n    map[`${i * -1},${j * -1}`] = \"g-b-r\"\n}\n\nfor (let i = 1; i <= 10; i++) {\n    map[`-6,${i}`] = \"g-l\"\n    map[`6,${i * -1}`] = \"g-r\"\n}\n\nconst bgImage = (id: string): CSSProperties => {\n    const hash = map[id]\n\n    if (hash === \"\") {\n        return {}\n    }\n\n    return {\n        backgroundImage: `url(${svg}#${hash || \"_\"})`,\n    }\n}\n\nexport const Tile: FC<Data<TileProps>> = observer(({ data }) => (\n    <div data-qr={data.qr} style={bgImage(data.qr)}>\n        {/*<span style={{ color: \"#000\", transform: \"rotate(30deg)\" }}>{data.qr}</span>*/}\n    </div>\n))\n","export const debounce = function (func: any, wait: any) {\n    let timeout: any\n\n    return function (...args: any[]) {\n        // @ts-ignore\n        const context = this\n        const later = function () {\n            timeout = null\n            func.apply(context, args)\n        }\n\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n    }\n}\n","import { Tiles } from \"../../../types\"\nimport { toHex } from \"./toHex\"\n\nexport const generateTiles = (data: [q: number, r: number][]): Tiles => {\n    const res: Tiles = {}\n    data.forEach(([q, r]) => {\n        const hex = toHex(q, r)\n        res[hex.id] = { hex }\n    })\n    return res\n}\n","import { Hex } from \"../../../jsx/Game/Hexagons/Hex\"\n\nexport const toHex = (q: number, r: number) => new Hex(q, r, (q + r) * -1)\n","import { Store} from \"../Store\"\nimport { OrientationType } from \"../../../types\"\nimport { Layout } from \"../../../jsx/Game/Hexagons/Layout\"\nimport { generateTiles } from \"./generateTiles\"\nimport { tiles } from \"../defaults/tiles\"\n\nexport const init = (store: Store) => {\n    // store.orientation = Layout[store.storage.getOrApply<OrientationType>(\"orientation\", () => \"flat\")]\n    store.orientation = Layout.pointy\n\n    store.tiles = generateTiles(\n        // store.storage.getOrApply<[q: number, r: number][]>(\"tiles\", () => tiles),\n        tiles(store.size)\n    )\n}\n","type Tile = [q: number, r: number]\n\nexport const tiles = (_size: 11 | 19): Tile[] => {\n    const size = _size + 2\n    const result: Tile[] = []\n    const fromTo = (size - 1) / 2\n    let a = 0\n\n    for (let i = (fromTo * -1); i <= fromTo; i++) {\n        for (let j = a; j <= (size - 1) + a; j++) {\n            result.push([i, j])\n        }\n        a--\n    }\n\n    return result\n}\n","import { Store } from \"../Store\"\nimport { updateLayout } from \"./updateLayout\"\nimport { runInAction } from \"mobx\"\n\nexport const recalc = (store: Store): void => {\n    const widthSize = store.isPointy ? store.smallSide * 2 : store.largeSide * 2\n    const heightSize = store.isPointy ? store.largeSide * 2 : store.smallSide * 2\n    runInAction(() => {\n        store.R = Math.min(store.width / widthSize, store.height / heightSize)\n    })\n    updateLayout(store)\n}\n","import { Layout } from \"../../../jsx/Game/Hexagons/Layout\"\nimport { Point } from \"../../../jsx/Game/Hexagons/Point\"\nimport { Store } from \"../Store\"\nimport { runInAction } from \"mobx\"\n\nexport const updateLayout = (store: Store): void => {\n    runInAction(() => {\n        store.layout = new Layout(\n            store.orientation,\n            new Point(store.R, store.R),\n            new Point(\n                store.width / 2,\n                store.R * (store.isPointy ? store.largeSide : store.smallSide),\n            ),\n        )\n    })\n}\n","import { recalc } from \"./recalc\"\nimport { Store } from \"../Store\"\nimport { runInAction } from \"mobx\"\n\ntype OnWindowResize = (store: Store) => () => void\n\nexport const onWindowResize: OnWindowResize = (store) => () => {\n    const [width, height] = store.elSizes\n    if (store.width !== width || store.height !== height) {\n        runInAction(() => {\n            store.width = width\n            store.height = height\n        })\n        recalc(store)\n    }\n}\n","import { makeAutoObservable, toJS } from \"mobx\"\nimport { Layout } from \"../../jsx/Game/Hexagons/Layout\"\nimport { Point } from \"../../jsx/Game/Hexagons/Point\"\nimport { Keys, OrientationType, Tiles, Values } from \"../../types\"\nimport { debounce } from \"../../helpers/debounce\"\nimport { LocalStorageMgmnt } from \"../LocalStorageMgmnt\"\nimport { Orientation } from \"../../jsx/Game/Hexagons/Orientation\"\nimport { __DEV__appendStyles } from \"./__DEV__appendStyles\"\nimport { init } from \"./applyers/init\"\nimport { onWindowResize } from \"./applyers/onWindowResize\"\n\nexport class Store {\n\n    readonly ratio = 0.8660254\n\n    readonly largeSide = 17\n\n    readonly smallSide = this.largeSide * this.ratio\n\n    readonly size: 11 | 19 = 11\n\n    width = 0\n\n    height = 0\n\n    R = 0\n\n    preSit = false\n\n    hoveredId: string | null = null\n\n    constructor() {\n        init(this)\n        makeAutoObservable<Store,\n            | \"ratio\"\n            | \"largeSide\"\n            | \"smallSide\"\n            | \"storage\">(this, { ratio: false, largeSide: false, smallSide: false, storage: false })\n\n        if (process.env.NODE_ENV === 'development') {\n          new __DEV__appendStyles(this.smallSide, this.largeSide, this.ratio, this.tiles)\n        }\n\n        // @ts-ignore\n        window.store = () => toJS(this)\n    }\n\n    storage = new LocalStorageMgmnt<Keys, Values>(\"game\")\n\n    tiles: Tiles = {}\n\n    layout: Layout = new Layout(this.orientation, new Point(0, 0), new Point(0, 0))\n\n    dispose = (): void => {\n        try {\n            window.removeEventListener(\"resize\", this.debounce)\n            this.storage.destroy()\n            init(this)\n        } catch (e) {\n            console.warn(\"%cTODO\", \"font-size:50px;\", e)\n        }\n    }\n\n    private _arenaElement: HTMLDivElement | null = null\n\n    get arenaElement() {\n        return this._arenaElement\n    }\n\n    set arenaElement(el) {\n        this._arenaElement = el\n        onWindowResize(this)()\n        window.addEventListener(\"resize\", this.debounce, false)\n    }\n\n    get elSizes() {\n        const arenaElement = this.arenaElement\n\n        if (arenaElement) {\n            return [arenaElement.offsetWidth, arenaElement.offsetHeight]\n        }\n\n        return [0, 0]\n    }\n\n    debounce = debounce(onWindowResize(this), 400)\n\n    private _orientation: Orientation = Layout.flat\n\n    get orientation() {\n        return this._orientation\n    }\n\n    set orientation(orientation) {\n        this._orientation = orientation\n        this.storage.set(\"orientation\", this.orientationType)\n    }\n\n    get orientationType(): OrientationType {\n        return this.isPointy ? \"pointy\" : \"flat\"\n    }\n\n    get isPointy() {\n        return this.orientation.start_angle === 0.5\n    }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, FC, useContext, useEffect } from \"react\"\nimport { Store } from \"./Store\"\n\nconst HexContext = createContext<Store | null>(null)\n\nexport const StoreProvider: FC<{ store: Store }> = ({ children, store }) => {\n    useEffect(() => store.dispose, [])\n    return (\n        <HexContext.Provider value={store}>\n            {children}\n        </HexContext.Provider>\n    )\n}\n\nexport const useStore = (): Store => {\n    const store = useContext(HexContext)\n    if (!store) {\n        throw new Error(\"hook must be used within a Provider\")\n    }\n    return store\n}\n","import { FC } from \"react\"\nimport { observer } from \"mobx-react\"\nimport styles from \"./MenuButton.module.css\"\nimport { useUIStore } from \"../../../Storage/UIStore/UIStoreProvider\"\n\nexport const MenuButton: FC = observer(() => {\n    const store = useUIStore()\n\n    return (\n        <button\n            className={store.drawer ? styles.closeMenu : styles.openMenu}\n            onClick={store.toggleDrawer}\n        />\n    )\n})\n","import { FC } from \"react\"\nimport { observer } from \"mobx-react\"\nimport { useStore } from \"../../../Storage/Store/StoreProvider\"\nimport styles from \"./LayoutWrapper.module.css\"\n\nexport const LayoutWrapper: FC = observer(({ children }) => (\n    <div className={styles.root} style={{ [\"--R\" as string]: `${useStore().R}px` }}>\n        {children}\n    </div>\n))\n","import { i18nKeys } from './i18nKeys'\nimport { rus } from './rus'\nimport { eng } from './eng'\n\nexport type Language = 'rus' | 'eng'\n\nconst languageDefaultState: Language = 'rus'\n\ntype I18n = (key: i18nKeys | string) => string\n\nconst commonSettings = JSON.parse(localStorage.getItem('ui') || JSON.stringify({\n  language: languageDefaultState,\n}))\n\nconst lang: Language = commonSettings.language || languageDefaultState\n\nexport type LanguageMap = Record<i18nKeys, string>\n\nconst languagesMap: Record<Language, LanguageMap> = {\n  rus,\n  eng,\n}\n\nexport const i18n: I18n = (key) => {\n  const res = languagesMap[lang][key as i18nKeys]\n\n  if (res === undefined) {\n    return `~${key}~`\n  }\n\n  return res\n}\n","import { LanguageMap } from \"./i18n\"\n\nexport const rus: LanguageMap = {\n    yacht: \"Яхта\",\n    indigo: \"Индиго\",\n    hex: \"Гекс\",\n    systemTheme: \"Из системы\",\n\n    \"button.startNewGame\": \"Начать новую игру\",\n    \"button.restartGame\": \"Начать заново\",\n    \"button.startGame\": \"Начать игру\",\n    \"button.cancel\": \"Отмена\",\n    \"button.addPlayer\": \"Добавить игрока\",\n    \"button.restart\": \"Начать заново\",\n    \"button.rotate\": \"Повернуть\",\n    \"button.light\": \"Светлая\",\n    \"button.dark\": \"Темная\",\n    \"button.system\": \"Как в системе\",\n    \"button.apply\": \"Применить\",\n\n    currentGameWillBeLost: \"Текущая игра будет утеряна.\",\n}\n","import { LanguageMap } from \"./i18n\"\n\nexport const eng: LanguageMap = {\n    yacht: \"Yacht\",\n    indigo: \"Indigo\",\n    hex: \"Hex\",\n    systemTheme: \"System theme\",\n\n    \"button.startNewGame\": \"Start new game\",\n    \"button.restartGame\": \"Restart game\",\n    \"button.cancel\": \"Cancel\",\n    \"button.startGame\": \"Start game\",\n    \"button.addPlayer\": \"Add player\",\n    \"button.restart\": \"Restart\",\n    \"button.rotate\": \"Rotate\",\n    \"button.light\": \"Light\",\n    \"button.dark\": \"Dark\",\n    \"button.system\": \"System\",\n    \"button.apply\": \"Apply\",\n\n    currentGameWillBeLost: \"Current game will be lost.\",\n}\n","import { FC, useCallback, useEffect, useState } from \"react\"\nimport styles from \"./GamesSwitcher.module.css\"\nimport cx from \"classnames\"\nimport { i18n } from \"../../../../i18n/i18n\"\n\nexport const GamesSwitcher: FC = () => {\n    const [visible, setVisible] = useState(false)\n    const open = useCallback(() => {\n        setVisible(true)\n    }, [])\n    const close = useCallback(() => {\n        setVisible(false)\n    }, [])\n\n    useEffect(() => {\n        if (visible) {\n            document.addEventListener(\"click\", close)\n        } else {\n            document.removeEventListener(\"click\", close)\n        }\n    }, [visible, close])\n\n    return (\n        <div className={styles.root}>\n            <h1 className={styles.heading} onClick={open}>\n                {i18n(\"hex\")}\n            </h1>\n            <ul className={cx(styles.list, { [styles.visible]: visible })}>\n                <li className={styles.selected}>{i18n(\"hex\")}</li>\n                <li onClick={() => {\n                    // @ts-ignore\n                    window.location = \"https://bnz.github.io/indigo/\"\n                }}>{i18n(\"indigo\")}</li>\n                <li onClick={() => {\n                    // @ts-ignore\n                    window.location = \"https://bnz.github.io/yacht/\"\n                }}>{i18n(\"yacht\")}</li>\n            </ul>\n        </div>\n    )\n}\n","import { FC } from \"react\"\nimport { observer } from \"mobx-react\"\nimport { useUIStore } from \"../../../../Storage/UIStore/UIStoreProvider\"\nimport styles from \"./LanguageSwitcher.module.css\"\n\nexport const LanguageSwitcher: FC = observer(() => {\n    const store = useUIStore()\n    const lang = store.language\n\n    return (\n        <div className={styles.root}>\n            <button disabled={lang === \"rus\"} onClick={store.setLanguage(\"rus\")}>\n                рус\n            </button>\n            <button disabled={lang === \"eng\"} onClick={store.setLanguage(\"eng\")}>\n                eng\n            </button>\n        </div>\n    )\n})\n","import { FC } from \"react\"\nimport styles from \"./Footer.module.css\"\n\nexport const Footer: FC = () => (\n    <footer className={styles.footer}>\n        bonez &copy; 2020 - {new Date().getFullYear()}\n    </footer>\n)\n","import { FC } from \"react\"\nimport { observer } from \"mobx-react\"\nimport styles from \"./ThemeSwitcher.module.css\"\nimport { useUIStore } from \"../../../../Storage/UIStore/UIStoreProvider\"\nimport cx from \"classnames\"\nimport { Theme } from \"../../../../Storage/UIStore/UIStore\"\n\nexport const ThemeSwitcher: FC = observer(() => {\n    const store = useUIStore()\n    const theme = store.theme\n    const fn = (th: Theme) => cx(styles[th], { [styles.selected]: theme === th })\n\n    return (\n        <div className={styles.wrapper}>\n            <input\n                type=\"radio\"\n                className={fn(\"light\")}\n                onClick={store.changeTheme(\"light\")}\n            />\n            <input\n                type=\"radio\"\n                className={fn(\"dark\")}\n                onClick={store.changeTheme(\"dark\")}\n            />\n            <input\n                type=\"radio\"\n                className={fn(\"system\")}\n                onClick={store.changeTheme(\"system\")}\n            />\n            {/*\n            <label className={styles.checkboxLabel}>\n                <h5>{i18n(\"systemTheme\")}</h5>\n                <input\n                    type=\"checkbox\"\n                    className={styles.checkbox}\n                    checked={themeSystem}\n                    onChange={store.useSystemTheme}\n                />\n            </label>\n            */}\n        </div>\n    )\n})\n","import { FC, useEffect, useRef } from \"react\"\nimport { createPortal } from \"react-dom\"\n\nconst root = document.getElementById(\"root\")\n\nexport const Modal: FC = ({ children }) => {\n    const el = useRef(document.createElement(\"div\"))\n\n    useEffect(() => {\n        const div = el.current\n        root?.appendChild(div)\n\n        return () => {\n            root?.removeChild(div)\n        }\n    }, [])\n\n    return createPortal(children, el.current)\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { FC, useEffect } from \"react\"\nimport { KeyCodes } from \"./KeyCodes\"\n\ntype Dictionary<K extends string, T> = { [P in K]?: T }\n\ninterface KeyboardActionsProps {\n    actions: Dictionary<KeyCodes, () => void>\n}\n\nexport const KeyboardActions: FC<KeyboardActionsProps> = ({ actions }) => {\n    useEffect(() => {\n        const fn = (e: KeyboardEvent): void => {\n            actions[e.code as KeyCodes]?.()\n        }\n        window.addEventListener(\"keyup\", fn, true)\n\n        return () => {\n            window.removeEventListener(\"keyup\", fn, true)\n        }\n    }, [])\n\n    return null\n}\n","import { FC, ReactNode } from \"react\"\nimport styles from \"./Dialog.module.css\"\nimport { Modal } from \"../Modal/Modal\"\nimport { KeyboardActions } from \"../KeyboardActions/KeyboardActions\"\n\ninterface DialogProps {\n    heading?: string\n    close?(): void\n    footer?: ReactNode\n}\n\nexport const Dialog: FC<DialogProps> = ({\n    heading,\n    close,\n    children,\n    footer,\n}) => (\n    <Modal>\n        <KeyboardActions actions={{ Escape: close }} />\n        <div className={styles.backdrop} onClick={close} />\n        <div className={styles.root}>\n            {heading !== undefined && (\n                <h2 className={styles.header}>\n                    {heading}\n                    {close && (\n                        <button className={styles.closeButton} onClick={close} />\n                    )}\n                </h2>\n            )}\n            <section className={styles.content}>\n                {children}\n            </section>\n            {footer !== undefined && (\n                <footer className={styles.footer}>\n                    {footer}\n                </footer>\n            )}\n        </div>\n    </Modal>\n)\n","import { FC } from \"react\"\nimport { observer } from \"mobx-react\"\nimport buttonStyles from \"../../../Components/Button/Button.module.css\"\nimport { i18n } from \"../../../../i18n/i18n\"\nimport { useUIStore } from \"../../../../Storage/UIStore/UIStoreProvider\"\n\nexport const RestartButton: FC = observer(() => (\n    <button className={buttonStyles.main} onClick={useUIStore().restartGame}>\n        {i18n(\"button.restart\")}\n    </button>\n))\n","import { FC, useCallback, useState } from \"react\"\nimport { i18n } from \"../../../../i18n/i18n\"\nimport buttonStyles from \"../../../Components/Button/Button.module.css\"\nimport { Dialog } from \"../../../Components/Dialog/Dialog\"\nimport { RestartButton } from \"./RestartButton\"\n\nexport const RestartGame: FC = () => {\n    const [dialogVisible, setDialogVisible] = useState(false)\n    const close = useCallback(() => {\n        setDialogVisible(false)\n    }, [])\n\n    return (\n        <>\n            <button className={buttonStyles.restart} onClick={() => {\n                setDialogVisible(true)\n            }}>\n                {i18n(\"button.restart\")}\n            </button>\n            {dialogVisible && (\n                <Dialog\n                    heading={`${i18n(\"button.restartGame\")}?`}\n                    close={close}\n                    footer={\n                        <>\n                            <button className={buttonStyles.text} onClick={close}>\n                                {i18n(\"button.cancel\")}\n                            </button>\n                            <RestartButton />\n                        </>\n                    }\n                >\n                    <div style={{ textAlign: \"center\" }}>\n                        {i18n(\"currentGameWillBeLost\")}\n                    </div>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\n","import { FC } from \"react\"\nimport cx from \"classnames\"\nimport { observer } from \"mobx-react\"\nimport styles from \"./Drawer.module.css\"\nimport { useUIStore } from \"../../../Storage/UIStore/UIStoreProvider\"\nimport { GamesSwitcher } from \"./GamesSwitcher/GamesSwitcher\"\nimport { LanguageSwitcher } from \"./LanguageSwitcher/LanguageSwitcher\"\nimport { Footer } from \"./Footer/Footer\"\nimport { ThemeSwitcher } from \"./ThemeSwitcher/ThemeSwitcher\"\nimport { UIPhase } from \"../../../types\"\nimport { RestartGame } from \"./RestartGame/RestartGame\"\n\nexport const Drawer: FC = observer(() => {\n    const store = useUIStore()\n\n    return (\n        <div className={cx({ [styles.hidden]: !store.drawer })}>\n            <div className={styles.backdrop} onClick={store.toggleDrawer} />\n            <div className={styles.drawer}>\n                <GamesSwitcher />\n                <div className={styles.content}>\n                    <LanguageSwitcher />\n                    <ThemeSwitcher />\n                    {store.phase === UIPhase.GAME && (\n                        <>\n                            <div className={styles.actions}>\n                                <RestartGame />\n                            </div>\n                        </>\n                    )}\n                </div>\n                <Footer />\n            </div>\n        </div>\n    )\n})\n","import { FC } from 'react'\nimport buttonStyles from \"../../Components/Button/Button.module.css\"\nimport { i18n } from \"../../../i18n/i18n\"\nimport { useUIStore } from \"../../../Storage/UIStore/UIStoreProvider\"\n\nexport const StartButton: FC = () => (\n    <button className={buttonStyles.main} onClick={useUIStore().startGame}>\n        {i18n('button.startNewGame')}\n    </button>\n)\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { FC, useEffect, useMemo, useRef } from \"react\"\nimport { observer } from \"mobx-react\"\nimport { useStore } from \"../../../Storage/Store/StoreProvider\"\n// import { onMouseMove } from \"../../../Storage/Store/applyers/onMouseMove\"\n// import { applySit } from \"../../../Storage/Store/applyers/applySit\"\n// import { onClick } from \"../../../Storage/Store/applyers/onClick\"\nimport \"./Arena.css\"\n\nexport const ArenaWrapper: FC = observer(({ children }) => {\n    const store = useStore()\n    const arenaRef = useRef<HTMLDivElement | null>(null)\n\n    useEffect(() => {\n        store.arenaElement = arenaRef.current\n    }, [store.arenaElement])\n\n    return (\n        <div\n            ref={arenaRef}\n            className={store.orientationType}\n            {...useMemo(() => {\n                if (store.arenaElement === null) {\n                    return {}\n                }\n\n                return {\n                    // onClick: onClick(store),\n                    // onMouseMove: onMouseMove(store),\n                    // onDoubleClick: applySit(store),\n                    children,\n                }\n            }, [store.arenaElement, store.R])}\n        />\n    )\n})\n","export default __webpack_public_path__ + \"static/media/hex.a4cef3e8.svg\";","import { FC } from \"react\"\nimport { useStore } from \"../../../Storage/Store/StoreProvider\"\nimport { Tile } from \"./Tile\"\nimport { makeAutoObservable } from \"mobx\"\nimport \"./Tile.css\"\n\nexport interface Data<T> {\n    data: T\n}\n\nexport const Tiles: FC = () => (\n    <>\n        {Object.entries(useStore().tiles).map((entry, i) => (\n            <Tile key={i} data={makeAutoObservable({\n                get qr() {\n                    return entry[1].hex.id\n                },\n            })} />\n        ))}\n    </>\n)\n","import { FC } from \"react\"\nimport { ArenaWrapper } from \"./ArenaWrapper\"\nimport { Tiles } from \"../Tile/Tiles\"\n\nexport const Arena: FC = () => (\n    <ArenaWrapper>\n        <Tiles />\n    </ArenaWrapper>\n)\n","import { FC } from \"react\"\nimport { useUIStore } from \"../../Storage/UIStore/UIStoreProvider\"\nimport { UIPhase } from \"../../types\"\nimport { StartButton } from \"../Rules/StartButton/StartButton\"\nimport { observer } from \"mobx-react\"\nimport { Arena } from \"./Arena/Arena\"\n\nexport const Hex: FC = observer(() => {\n    switch (useUIStore().phase) {\n        case UIPhase.PRE_GAME:\n            return (\n                <>\n                    <div style={{\n                        padding: \"calc(var(--spacing) * 10)\",\n                        textAlign: \"center\",\n                    }}>\n                        <StartButton />\n                    </div>\n                </>\n            )\n        case UIPhase.GAME:\n            return (\n                <Arena />\n            )\n        default:\n            return null\n    }\n})\n","import { StrictMode } from \"react\"\nimport { render } from \"react-dom\"\nimport { UIStore } from \"./Storage/UIStore/UIStore\"\nimport { UIStoreProvider } from \"./Storage/UIStore/UIStoreProvider\"\nimport { Store } from \"./Storage/Store/Store\"\nimport { StoreProvider } from \"./Storage/Store/StoreProvider\"\nimport { MenuButton } from \"./jsx/Layout/MenuButton/MenuButton\"\nimport { LayoutWrapper } from \"./jsx/Layout/LayoutWrapper/LayoutWrapper\"\nimport { Drawer } from \"./jsx/Layout/Drawer/Drawer\"\nimport { Hex } from \"./jsx/Game/Hex\"\nimport \"modern-css-reset\"\nimport \"@fontsource/roboto\"\nimport \"./index.css\"\nimport \"./:root.css\"\n\nconst store = new Store()\n\nrender(\n    <StrictMode>\n        <UIStoreProvider store={new UIStore(store.dispose)}>\n            <StoreProvider store={store}>\n                <LayoutWrapper>\n                    <Hex />\n                </LayoutWrapper>\n                <Drawer />\n                <MenuButton />\n            </StoreProvider>\n        </UIStoreProvider>\n    </StrictMode>,\n    document.getElementById(\"root\"),\n)\n"],"sourceRoot":""}