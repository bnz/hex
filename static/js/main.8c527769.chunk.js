(this.webpackJsonphex=this.webpackJsonphex||[]).push([[0],[,,,,,,,,,function(t,e,n){t.exports={button:"Button_button__3tE03",withIcon:"Button_withIcon__3mxLj",buttonContained:"Button_buttonContained__1_qjk",main:"Button_main__xrucu Button_button__3tE03 Button_buttonContained__1_qjk",text:"Button_text__1-Elw Button_button__3tE03",restart:"Button_restart__18J1J Button_button__3tE03 Button_buttonContained__1_qjk Button_withIcon__3mxLj",rotate:"Button_rotate__36yKG Button_button__3tE03 Button_buttonContained__1_qjk Button_withIcon__3mxLj"}},,function(t,e,n){t.exports={root:"Dialog_root__NRShG",backdrop:"Dialog_backdrop__1sYxI",header:"Dialog_header__1azbN",content:"Dialog_content__2meVV",closeButton:"Dialog_closeButton__1r6o3 Button_button__3tE03",footer:"Dialog_footer__YAeCI"}},,,function(t,e,n){t.exports={drawer:"Drawer_drawer__1HalH",hidden:"Drawer_hidden__2OHcw",backdrop:"Drawer_backdrop__gWGnm",content:"Drawer_content__1bryE",box:"Drawer_box__3GC_l",actions:"Drawer_actions__BAzI9 Drawer_box__3GC_l"}},function(t,e,n){t.exports={root:"GamesSwitcher_root__2TNDL",heading:"GamesSwitcher_heading__3SrOO",list:"GamesSwitcher_list__3Qw2k",visible:"GamesSwitcher_visible__YBiVK",selected:"GamesSwitcher_selected__1NZF7"}},,,function(t,e,n){t.exports={wrapper:"ThemeSwitcher_wrapper__3sSiZ Drawer_box__3GC_l",radio:"ThemeSwitcher_radio__3y2yU",selected:"ThemeSwitcher_selected__2r8Ri",light:"ThemeSwitcher_light__9R655 ThemeSwitcher_radio__3y2yU",dark:"ThemeSwitcher_dark__BaMnY ThemeSwitcher_radio__3y2yU",system:"ThemeSwitcher_system__3Z_ku ThemeSwitcher_radio__3y2yU"}},function(t,e,n){t.exports={wrap:"RotateLayout_wrap__3_K_f Drawer_box__3GC_l",button:"RotateLayout_button__22b1Q",flat:"RotateLayout_flat__2_vBD RotateLayout_button__22b1Q",pointy:"RotateLayout_pointy__wCgqC RotateLayout_button__22b1Q"}},,function(t,e,n){t.exports={root:"MenuButton_root__2p-DT",openMenu:"MenuButton_openMenu__2T0Q7 MenuButton_root__2p-DT",closeMenu:"MenuButton_closeMenu__1zqK3 MenuButton_root__2p-DT"}},function(t,e,n){t.exports={footer:"Footer_footer__1_tAb"}},function(t,e,n){t.exports={root:"LanguageSwitcher_root__3Mev9 Drawer_box__3GC_l"}},function(t,e,n){t.exports={root:"KeyMapHints_root__2qiqW"}},,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r,i,a=n(1),o=n(12),s=n(10),c=n(4),u=n(7),l=n(2),h=n(5),d=function(){function t(e){Object(c.a)(this,t),this.storageName=e}return Object(u.a)(t,[{key:"get",value:function(t,e){var n=localStorage.getItem(this.storageName);if(null!==n){var r=JSON.parse(n);return void 0===r[t]?e||null:r[t]}return e||null}},{key:"getOrApply",value:function(t,e){if(null!==this.get(t))return this.get(t);var n=e();return this.set(t,n),n}},{key:"set",value:function(t,e){var n=localStorage.getItem(this.storageName);if(null===n)localStorage.setItem(this.storageName,JSON.stringify(Object(h.a)({},t,e)));else{var r=JSON.parse(n);r[t]=e,localStorage.setItem(this.storageName,JSON.stringify(r))}}},{key:"destroy",value:function(){console.log("destroy",this.storageName),localStorage.removeItem(this.storageName)}}]),t}();!function(t){t[t.PRE_GAME=0]="PRE_GAME",t[t.GAME=1]="GAME"}(r||(r={})),function(t){t[t.emptyCell=0]="emptyCell",t[t.p1=1]="p1",t[t.p2=2]="p2",t[t.border=3]="border"}(i||(i={}));var b=function(){function t(e){var n=this;Object(c.a)(this,t),this.storeDispose=e,this.defaultDrawerState=!1,this.defaultLanguage="rus",this.html=document.getElementsByTagName("html")[0],this.storage=new d("ui"),this._drawer=this.storage.getOrApply("drawer",(function(){return n.defaultDrawerState})),this.toggleDrawer=function(){n.drawer=!n.drawer},this.drawerReaction=function(t){n.html.style.overflow=t?"hidden":"visible"},this._language=this.storage.getOrApply("language",(function(){return n.defaultLanguage})),this.setLanguage=function(t){return function(){n.language=t,window.location=window.location}},this.matchMediaListener=function(e){n.theme=t.toggleTheme(e)},this._theme=this.storage.getOrApply("theme",(function(){return t.toggleTheme(t.matchMedia)})),this.changeTheme=function(t){return function(){Object(l.p)((function(){n.theme=t}))}},this.themeReaction=function(t){var e;(e=n.html.classList).remove.apply(e,Object(s.a)(n.html.classList)),"system"!==t&&("dark"===t?n.html.classList.add("theme-dark"):n.html.classList.add("theme-light"))},this._phase=this.storage.getOrApply("phase",(function(){return r.PRE_GAME})),this.startGame=function(){n.phase=r.GAME},this.restartGame=function(){n.phase=r.PRE_GAME,n.storage.destroy(),n.storeDispose(),n.drawer=!1},Object(l.l)(this),this.themeReaction(this.theme),Object(l.o)((function(){return n.theme}),this.themeReaction),t.matchMedia.addEventListener("change",this.matchMediaListener,!0),Object(l.o)((function(){return n.drawer}),this.drawerReaction)}return Object(u.a)(t,[{key:"drawer",get:function(){return this._drawer},set:function(t){this._drawer=t,this.storage.set("drawer",this.drawer)}},{key:"language",get:function(){return this._language},set:function(t){this._language=t,this.storage.set("language",this.language)}},{key:"theme",get:function(){return this._theme},set:function(t){this.storage.set("theme",t),this._theme=t}},{key:"dispose",value:function(){t.matchMedia.removeEventListener("change",this.matchMediaListener)}},{key:"phase",get:function(){return this._phase},set:function(t){this._phase=t,this.storage.set("phase",this._phase)}}],[{key:"matchMedia",get:function(){return window.matchMedia("(prefers-color-scheme: dark)")}},{key:"toggleTheme",value:function(t){return t.matches?"dark":"light"}}]),t}(),f=n(0),j=Object(a.createContext)(null),_=function(t){var e=t.children,n=t.store;return Object(a.useEffect)((function(){return n.dispose}),[]),Object(f.jsx)(j.Provider,{value:n,children:e})},g=function(){var t=Object(a.useContext)(j);if(!t)throw new Error("hook must be used within a Provider");return t},p=function t(e,n,r,i,a,o,s,u,l){Object(c.a)(this,t),this.f0=e,this.f1=n,this.f2=r,this.f3=i,this.b0=a,this.b1=o,this.b2=s,this.b3=u,this.start_angle=l},m=function t(e,n){Object(c.a)(this,t),this.x=e,this.y=n},O=function(){function t(e,n,r){if(Object(c.a)(this,t),this.q=e,this.r=n,this.s=r,0!==Math.round(e+n+r))throw new Error("q + r + s must be 0")}return Object(u.a)(t,[{key:"id",get:function(){return"".concat(this.q,",").concat(this.r)}},{key:"add",value:function(e){return new t(this.q+e.q,this.r+e.r,this.s+e.s)}},{key:"subtract",value:function(e){return new t(this.q-e.q,this.r-e.r,this.s-e.s)}},{key:"scale",value:function(e){return new t(this.q*e,this.r*e,this.s*e)}},{key:"rotateLeft",value:function(){return new t(-this.s,-this.q,-this.r)}},{key:"rotateRight",value:function(){return new t(-this.r,-this.s,-this.q)}},{key:"neighbor",value:function(e){return this.add(t.direction(e))}},{key:"diagonalNeighbor",value:function(e){return this.add(t.diagonals[e])}},{key:"len",value:function(){return(Math.abs(this.q)+Math.abs(this.r)+Math.abs(this.s))/2}},{key:"distance",value:function(t){return this.subtract(t).len()}},{key:"round",value:function(){var e=Math.round(this.q),n=Math.round(this.r),r=Math.round(this.s),i=Math.abs(e-this.q),a=Math.abs(n-this.r),o=Math.abs(r-this.s);return i>a&&i>o?e=-n-r:a>o?n=-e-r:r=-e-n,new t(e,n,r)}},{key:"lerp",value:function(e,n){return new t(this.q*(1-n)+e.q*n,this.r*(1-n)+e.r*n,this.s*(1-n)+e.s*n)}},{key:"linedraw",value:function(e){for(var n=this.distance(e),r=new t(this.q+1e-6,this.r+1e-6,this.s-2e-6),i=new t(e.q+1e-6,e.r+1e-6,e.s-2e-6),a=[],o=1/Math.max(n,1),s=0;s<=n;s++)a.push(r.lerp(i,o*s).round());return a}}],[{key:"direction",value:function(e){return t.directions[e]}}]),t}();O.directions=[new O(1,0,-1),new O(1,-1,0),new O(0,-1,1),new O(-1,0,1),new O(-1,1,0),new O(0,1,-1)],O.diagonals=[new O(2,-1,-1),new O(1,-2,1),new O(-1,-1,2),new O(-2,1,1),new O(-1,2,-1),new O(1,1,-2)];var y=function(){function t(e,n,r){Object(c.a)(this,t),this.orientation=e,this.size=n,this.origin=r}return Object(u.a)(t,[{key:"hexToPixel",value:function(t){var e=this.orientation,n=this.size,r=this.origin,i=(e.f0*t.q+e.f1*t.r)*n.x,a=(e.f2*t.q+e.f3*t.r)*n.y;return new m(i+r.x,a+r.y)}},{key:"pixelToHex",value:function(t){var e=this.orientation,n=this.size,r=this.origin,i=new m((t.x-r.x)/n.x,(t.y-r.y)/n.y),a=e.b0*i.x+e.b1*i.y,o=e.b2*i.x+e.b3*i.y;return new O(a,o,-a-o)}},{key:"hexCornerOffset",value:function(t){var e=this.orientation,n=this.size,r=2*Math.PI*(e.start_angle-t)/6;return new m(n.x*Math.cos(r),n.y*Math.sin(r))}},{key:"polygonCorners",value:function(t){for(var e=[],n=this.hexToPixel(t),r=0;r<6;r++){var i=this.hexCornerOffset(r);e.push(new m(n.x+i.x,n.y+i.y))}return e}}]),t}();y.pointy=new p(Math.sqrt(3),Math.sqrt(3)/2,0,1.5,Math.sqrt(3)/3,-1/3,0,2/3,.5),y.flat=new p(1.5,0,Math.sqrt(3)/2,Math.sqrt(3),2/3,0,-1/3,Math.sqrt(3)/3,0);for(var v={"-6,0":["c-1-1","c-1-2"],"6,0":["c-2-1","c-2-2"],"6,-11":"p-2-4","-6,11":"p-2-3","5,-11":"p-1-3","-5,11":"p-1-4"},w=-5,x=-1;w<=4;w++,x--)v["".concat(w,",").concat(x)]="p-1",v["".concat(-1*w,",").concat(-1*x)]="p-1-2";for(var k=1;k<=10;k++)v["-6,".concat(k)]="p-2",v["6,".concat(-1*k)]="p-2-2";var M=Object.keys(v),E=n(6),C=function(t){var e={};return Object.values(t).forEach((function(t){var n,r,i=t.hex,a=t.type,o=(n=i.q,r=i.r,new O(n,r,-1*(n+r)));e[o.id]={hex:o,type:a}})),e},N=function(t){t.orientation=y[t.storage.getOrApply("orientation",(function(){return"flat"}))],t.playerMove=t.storage.getOrApply("playerMove",(function(){return i.p1})),t.tiles=C(t.storage.getOrApply("tiles",(function(){return function(t){var e={};return t.forEach((function(t){var n=t.join(",");e[n]={hex:{q:t[0],r:t[1]},type:M.includes(n)?i.border:i.emptyCell}})),e}(function(t){for(var e=t+2,n=[],r=(e-1)/2,i=0,a=-1*r;a<=r;a++){for(var o=i;o<=e-1+i;o++)n.push([a,o]);i--}var c=n.map((function(t){return Object(E.a)(t,1)[0]})),u=n.map((function(t){return Object(E.a)(t,2)[1]})),l=[Math.max.apply(Math,Object(s.a)(c)),Math.min.apply(Math,Object(s.a)(u))].join(","),h=[Math.min.apply(Math,Object(s.a)(c)),Math.max.apply(Math,Object(s.a)(u))].join(",");return n.filter((function(t){var e=t.join(",");return e!==l&&e!==h}))}(t.size))})))},S=function(t){var e=t.isPointy,n=e?t.smallSide:t.largeSide,r=e?t.largeSide:t.smallSide;Object(l.p)((function(){t.R=Math.min(t.width/n,t.height/(2*r)),t.layout=new y(t.orientation,new m(t.R,t.R),new m(t.width/2,t.R*r))}))},q=function(t){return function(){var e=Object(E.a)(t.elSizes,2),n=e[0],r=e[1];t.width===n&&t.height===r||(Object(l.p)((function(){t.width=n,t.height=r})),S(t))}},G=function(){function t(){var e=this;Object(c.a)(this,t),this.ratio=.8660254,this.largeSide=18,this.smallSide=18*this.ratio,this.size=11,this.width=0,this.height=0,this.R=0,this.preSit=!1,this.hoveredId=null,this.storage=new d("game"),this._tiles={},this.layout=new y(this.orientation,new m(0,0),new m(0,0)),this._playerMove=i.p1,this.dispose=function(){try{window.removeEventListener("resize",e.debounce),e.storage.destroy(),N(e),window.location.reload()}catch(t){console.warn("%cTODO","font-size:50px;",t)}},this._arenaElement=null,this.debounce=function(t,e){var n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){n=null,t.apply(o,i)};clearTimeout(n),n=setTimeout(s,e)}}(q(this),400),this._orientation=y.flat,N(this),Object(l.l)(this,{ratio:!1,largeSide:!1,smallSide:!1,storage:!1})}return Object(u.a)(t,[{key:"tiles",get:function(){return this._tiles},set:function(t){this._tiles=t,this.storage.set("tiles",this.tiles)}},{key:"playerMove",get:function(){return this._playerMove},set:function(t){this._playerMove=t,this.storage.set("playerMove",this.playerMove)}},{key:"arenaElement",get:function(){return this._arenaElement},set:function(t){this._arenaElement=t,q(this)(),window.addEventListener("resize",this.debounce,!1)}},{key:"elSizes",get:function(){var t=this.arenaElement;return t?[t.offsetWidth,t.offsetHeight]:[0,0]}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t,this.storage.set("orientation",this.orientationType)}},{key:"orientationType",get:function(){return this.isPointy?"pointy":"flat"}},{key:"isPointy",get:function(){return.5===this.orientation.start_angle}}]),t}(),R=Object(a.createContext)(null),D=function(t){var e=t.children,n=t.store;return Object(a.useEffect)((function(){return n.dispose}),[]),Object(f.jsx)(R.Provider,{value:n,children:e})},B=function(){var t=Object(a.useContext)(R);if(!t)throw new Error("hook must be used within a Provider");return t},L=n(3),T=n(21),A=n.n(T),I=Object(L.a)((function(){var t=g();return Object(f.jsx)("button",{className:t.drawer?A.a.closeMenu:A.a.openMenu,onClick:t.toggleDrawer})})),P=n(13),z=n.n(P),F=n(14),J=n.n(F),H=n(22),K=n.n(H),Y=function(){return Object(f.jsxs)("footer",{className:K.a.footer,children:["bonez \xa9 2020 - ",(new Date).getFullYear()]})},W=n(15),Q=n.n(W),U=JSON.parse(localStorage.getItem("ui")||JSON.stringify({language:"rus"})).language||"rus",V={rus:{yacht:"\u042f\u0445\u0442\u0430",indigo:"\u0418\u043d\u0434\u0438\u0433\u043e",hex:"\u0413\u0435\u043a\u0441",systemTheme:"\u0418\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","button.startNewGame":"\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0438\u0433\u0440\u0443","button.restartGame":"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e","button.startGame":"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443","button.cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","button.addPlayer":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430","button.restart":"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e","button.rotate":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c","button.light":"\u0421\u0432\u0435\u0442\u043b\u0430\u044f","button.dark":"\u0422\u0435\u043c\u043d\u0430\u044f","button.system":"\u041a\u0430\u043a \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435","button.apply":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",currentGameWillBeLost:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0442\u0435\u0440\u044f\u043d\u0430.","text.placeChip":"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u0448\u043a\u0443","text.rotateField":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e\u043b\u0435","text.showDrawer":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0435\u043d\u044e"},eng:{yacht:"Yacht",indigo:"Indigo",hex:"Hex",systemTheme:"System theme","button.startNewGame":"Start new game","button.restartGame":"Restart game","button.cancel":"Cancel","button.startGame":"Start game","button.addPlayer":"Add player","button.restart":"Restart","button.rotate":"Rotate","button.light":"Light","button.dark":"Dark","button.system":"System","button.apply":"Apply",currentGameWillBeLost:"Current game will be lost.","text.placeChip":"Place chip","text.rotateField":"Rotate field","text.showDrawer":"Show drawer"}},Z=function(t){var e=V[U][t];return void 0===e?"~".concat(t,"~"):e},X=function(){var t=Object(a.useState)(!1),e=Object(E.a)(t,2),n=e[0],r=e[1],i=Object(a.useCallback)((function(){r(!0)}),[]),o=Object(a.useCallback)((function(){r(!1)}),[]);return Object(a.useEffect)((function(){n?document.addEventListener("click",o):document.removeEventListener("click",o)}),[n,o]),Object(f.jsxs)("div",{className:Q.a.root,children:[Object(f.jsx)("h1",{className:Q.a.heading,onClick:i,children:Z("hex")}),Object(f.jsxs)("ul",{className:z()(Q.a.list,Object(h.a)({},Q.a.visible,n)),children:[Object(f.jsx)("li",{className:Q.a.selected,children:Z("hex")}),Object(f.jsx)("li",{onClick:function(){window.location="https://bnz.github.io/indigo/"},children:Z("indigo")}),Object(f.jsx)("li",{onClick:function(){window.location="https://bnz.github.io/yacht/"},children:Z("yacht")})]})]})},$=n(23),tt=n.n($),et=Object(L.a)((function(){var t=g(),e=t.language;return Object(f.jsxs)("div",{className:tt.a.root,children:[Object(f.jsx)("button",{disabled:"rus"===e,onClick:t.setLanguage("rus"),children:"\u0440\u0443\u0441"}),Object(f.jsx)("button",{disabled:"eng"===e,onClick:t.setLanguage("eng"),children:"eng"})]})})),nt=n(18),rt=n.n(nt),it=Object(L.a)((function(){var t=g(),e=t.theme,n=function(t){return z()(rt.a[t],Object(h.a)({},rt.a.selected,e===t))};return Object(f.jsxs)("div",{className:rt.a.wrapper,children:[Object(f.jsx)("input",{type:"radio",className:n("light"),onClick:t.changeTheme("light")}),Object(f.jsx)("input",{type:"radio",className:n("dark"),onClick:t.changeTheme("dark")}),Object(f.jsx)("input",{type:"radio",className:n("system"),onClick:t.changeTheme("system")})]})})),at=n(9),ot=n.n(at),st=n(11),ct=n.n(st),ut=document.getElementById("root"),lt=function(t){var e=t.children,n=Object(a.useRef)(document.createElement("div"));return Object(a.useEffect)((function(){var t=n.current;return null===ut||void 0===ut||ut.appendChild(t),function(){null===ut||void 0===ut||ut.removeChild(t)}}),[]),Object(o.createPortal)(e,n.current)},ht=function(t){var e=t.actions;return Object(a.useEffect)((function(){var t=function(t){var n;null===(n=e[t.code])||void 0===n||n.call(e)};return window.addEventListener("keyup",t,!0),function(){window.removeEventListener("keyup",t,!0)}}),[]),null},dt=function(t){var e=t.heading,n=t.close,r=t.children,i=t.footer;return Object(f.jsxs)(lt,{children:[Object(f.jsx)(ht,{actions:{Escape:n}}),Object(f.jsx)("div",{className:ct.a.backdrop,onClick:n}),Object(f.jsxs)("div",{className:ct.a.root,children:[void 0!==e&&Object(f.jsxs)("h2",{className:ct.a.header,children:[e,n&&Object(f.jsx)("button",{className:ct.a.closeButton,onClick:n})]}),Object(f.jsx)("section",{className:ct.a.content,children:r}),void 0!==i&&Object(f.jsx)("footer",{className:ct.a.footer,children:i})]})]})},bt=Object(L.a)((function(){return Object(f.jsx)("button",{className:ot.a.main,onClick:g().restartGame,children:Z("button.restart")})})),ft=function(){var t=Object(a.useState)(!1),e=Object(E.a)(t,2),n=e[0],r=e[1],i=Object(a.useCallback)((function(){r(!1)}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:ot.a.restart,onClick:function(){r(!0)},children:Z("button.restart")}),n&&Object(f.jsx)(dt,{heading:"".concat(Z("button.restartGame"),"?"),close:i,footer:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:ot.a.text,onClick:i,children:Z("button.cancel")}),Object(f.jsx)(bt,{})]}),children:Object(f.jsx)("div",{style:{textAlign:"center"},children:Z("currentGameWillBeLost")})})]})},jt=n(19),_t=n.n(jt),gt=function(t,e){return function(){Object(l.p)((function(){t.orientation="flat"===e?y.flat:y.pointy;var n=Object(E.a)(t.elSizes,2),r=n[0],i=n[1];t.width=r,t.height=i,S(t)}))}},pt=Object(L.a)((function(){var t=B(),e=t.isPointy;return Object(f.jsxs)("div",{className:_t.a.wrap,children:[Object(f.jsx)("button",{disabled:!e,className:_t.a.flat,onClick:gt(t,"flat")}),Object(f.jsx)("button",{disabled:e,className:_t.a.pointy,onClick:gt(t,"pointy")})]})})),mt=n(24),Ot=n.n(mt),yt={Enter:"text.placeChip",R:"text.rotateField",D:"text.showDrawer"},vt=function(){return Object(f.jsx)("ul",{className:Ot.a.root,children:Object.keys(yt).map((function(t){return Object(f.jsxs)("li",{children:[Object(f.jsx)("code",{children:t})," - ",Z(yt[t])]},t)}))})},wt=Object(L.a)((function(){var t=g();return Object(f.jsxs)("div",{className:z()(Object(h.a)({},J.a.hidden,!t.drawer)),children:[Object(f.jsx)("div",{className:J.a.backdrop,onClick:t.toggleDrawer}),Object(f.jsxs)("div",{className:J.a.drawer,children:[Object(f.jsx)(X,{}),Object(f.jsxs)("div",{className:J.a.content,children:[Object(f.jsx)(et,{}),Object(f.jsx)(it,{}),t.phase===r.GAME&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:J.a.actions,children:[Object(f.jsx)(ft,{}),Object(f.jsx)(pt,{}),Object(f.jsx)(vt,{})]})})]}),Object(f.jsx)(Y,{})]})]})})),xt=function(){return Object(f.jsx)("button",{className:ot.a.main,onClick:g().startGame,children:Z("button.startNewGame")})},kt=n(8),Mt=function(t){return function(e){if(!t.preSit){var n=e.currentTarget.getBoundingClientRect(),r=t.layout.pixelToHex({x:e.pageX-n.x,y:e.pageY-n.y}).round();Object(l.p)((function(){t.tiles[r.id]&&t.tiles[r.id].type===i.emptyCell?t.hoveredId=r.id:t.hoveredId=null}))}}},Et=function(t){return function(){Object(l.p)((function(){null!==t.hoveredId&&t.tiles[t.hoveredId].type!==t.playerMove&&(t.tiles[t.hoveredId].type=t.playerMove,t.storage.set("tiles",t.tiles),t.playerMove=t.playerMove===i.p1?i.p2:i.p1)}))}},Ct=(n(31),Object(L.a)((function(t){var e=t.children,n=B(),r=Object(a.useRef)(null);return Object(a.useEffect)((function(){n.arenaElement=r.current}),[n.arenaElement]),Object(f.jsx)("div",Object(kt.a)({ref:r,className:n.orientationType},Object(a.useMemo)((function(){return null===n.arenaElement?{}:{style:Object(h.a)({},"--R","".concat(n.R,"px")),onClick:Et(n),onMouseMove:Mt(n),children:e}}),[n.arenaElement,n.R])))}))),Nt=Object(L.a)((function(t){var e=t.data;return Object(f.jsx)("div",Object(kt.a)(Object(kt.a)({"data-qr":e.qr},e.p?{className:"p".concat(e.p)}:{}),e.border?{"data-b":""}:{}))})),St=(n(32),n(33),function(){return Object(f.jsx)(f.Fragment,{children:Object.entries(B().tiles).map((function(t,e){return Object(f.jsx)(Nt,{data:Object(l.l)({get qr(){return[t[1].hex.q,t[1].hex.r].join(",")},get border(){return t[1].type===i.border},get p(){switch(t[1].type){case i.p1:return i.p1;case i.p2:return i.p2;default:return}}})},e)}))})}),qt=Object(L.a)((function(){var t=B(),e=t.hoveredId,n=function(t){var e=Object(a.useRef)();return Object(a.useEffect)((function(){e.current=t}),[t]),e.current}(e),r=t.playerMove;return Object(f.jsx)("div",Object(kt.a)(Object(kt.a)({},Object(h.a)({},"data-hovered-p".concat(r),"")),{},{"data-qr":null===e?n:e}))})),Gt=function(t){return function(){gt(t,t.isPointy?"flat":"pointy")()}},Rt=function(){var t=B(),e=g().toggleDrawer;return Object(f.jsx)(ht,{actions:{KeyR:Gt(t),KeyD:e,Enter:Et(t)}})},Dt=function(){return Object(f.jsxs)(Ct,{children:[Object(f.jsx)(Rt,{}),Object(f.jsx)(St,{}),Object(f.jsx)(qt,{})]})},Bt=Object(L.a)((function(){switch(g().phase){case r.PRE_GAME:return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{style:{padding:"calc(var(--spacing) * 10)",textAlign:"center"},children:Object(f.jsx)(xt,{})})});case r.GAME:return Object(f.jsx)(Dt,{});default:return null}})),Lt=(n(34),n(35),n(36),n(37),new G);Object(o.render)(Object(f.jsx)(a.StrictMode,{children:Object(f.jsx)(_,{store:new b(Lt.dispose),children:Object(f.jsxs)(D,{store:Lt,children:[Object(f.jsx)(Bt,{}),Object(f.jsx)(wt,{}),Object(f.jsx)(I,{})]})})}),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.8c527769.chunk.js.map